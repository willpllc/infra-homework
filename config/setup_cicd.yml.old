---
- name: Create projects
  hosts: localhost
  gather_facts: False
  become: yes
  vars_files:
    - "{{ ANSIBLE_REPO_PATH }}/config/env_vars.yml"
  tasks:
    - name: Create project {{ cicd_project }}
      shell: "oc new-project {{ cicd_project }} --display-name='CI/CD'"
      ignore_errors: yes
    - name: Create project {{ company1 }}-dev
      shell: "oc new-project {{ company1 }}-dev --display-name='{{ company1_name }} Dev'"
      ignore_errors: yes
    - name: Create project {{ company1 }}-stage
      shell: "oc new-project {{ company1 }}-stage --display-name='{{ company1_name }} Stage'"
      ignore_errors: yes
    - name: Create project {{ company2 }}-dev
      shell: "oc new-project {{ company2 }}-dev --display-name='{{ company2_name }} Dev'"
      ignore_errors: yes
    - name: Create project {{ company2 }}-stage
      shell: "oc new-project {{ company2 }}-stage --display-name='{{ company2_name }} Stage'"
      ignore_errors: yes
    - name: Create project {{ company3 }}-dev
      shell: "oc new-project {{ company3 }}-dev --display-name='{{ company3_name }} Dev'"
      ignore_errors: yes
    - name: Create project {{ company3 }}-stage
      shell: "oc new-project {{ company3 }}-stage --display-name='{{ company3_name }} Stage'"
      ignore_errors: yes

